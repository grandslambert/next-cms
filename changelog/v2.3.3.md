# Version 2.3.3 - October 17, 2025

## Added

### Users API
Complete user management system:
- **List Users** - `GET /api/v1/users`
  - Pagination with configurable page and per_page parameters
  - Search across username, email, first name, and last name
  - Filter by role ID
  - Filter by site assignment
  - Full user details with created/updated timestamps
- **Get Single User** - `GET /api/v1/users/:id`
  - Complete user information
  - Role details (id, name, label)
  - Site assignments with per-site roles
  - Self-access support (users can view own profile)
- **Create User** - `POST /api/v1/users`
  - Username and email validation (duplicates prevented)
  - Password hashing with bcrypt
  - Optional profile information (first name, last name, bio, avatar)
  - Multi-site assignments with per-site roles
  - Activity logging
- **Update User** - `PUT /PATCH /api/v1/users/:id`
  - Full profile updates
  - Password changes (with hashing)
  - Site assignment management
  - Self-update support (users can edit own profile with restrictions)
  - Protected fields for self-updates (role, status)
- **Delete User** - `DELETE /api/v1/users/:id`
  - Soft delete support
  - Protection against self-deletion
  - Permission checking

### Permission System
- `manage_users` permission required for user management operations
- Self-access rules allow users to view/edit their own profiles
- Users cannot delete themselves
- Users cannot change their own role or status via self-update

### Users API Test Suite
17 comprehensive tests covering:
- User listing with pagination
- Search functionality
- Filtering by role and site
- User creation with validation
- User retrieval
- User updates (full and partial)
- User deletion
- Error handling (404, validation errors, duplicate prevention)

## Changed

### Test Suite
- Removed duplicate test scripts from root directory
- All test scripts now properly organized in `tests/api/`
- Cleaned up leftover test files from initial migration
- Updated test suite README to reflect 88 total tests

## Documentation

- Complete API documentation for Users (`/api/v1/users/README.md`)
  - Authentication requirements
  - Permission model with self-access rules
  - Request/response examples for all endpoints
  - Multi-site assignment examples
  - Security notes and best practices
- Updated test suite README with Users API coverage

## Summary

Version 2.3.3 completes Phase 5 of the Headless API implementation by adding a full-featured Users API. This includes comprehensive user management capabilities with proper authentication, permission checking, and self-access rules. Users can manage other users (with `manage_users` permission) or access/edit their own profiles. The API includes 88 comprehensive tests across all endpoints (Posts, Taxonomies, Terms, Media, Menus, and Users), providing complete coverage of the REST API functionality.

