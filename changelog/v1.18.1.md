# Version 1.18.1 - 2025-10-16

## Fixed
- **Post Editor** - Title field now only auto-focuses when creating new posts, not when editing existing posts
- **Media Library** - Folder display and filtering improvements
  - Folders now show count of both files and subfolders (e.g., "3 files, 2 folders")
  - Fixed main media library page to only show root-level images (not images inside folders)
  - Fixed media selector modal to only show images in the current folder
  - Images in folders no longer appear on the main page or in wrong folders
- **Activity Log** - Media updates now properly show before/after values
  - Activity log now displays what changed when editing media (title and alt text)
  - Fixed bug where media trash action referenced undefined variable
- **Routing** - Complete routing system overhaul for proper URL handling
  - **MAJOR FIX**: Restructured public routes to fix Next.js route matching priority issues
  - Removed separate `[taxonomy]` dynamic routes that were intercepting all single-segment URLs
  - Consolidated taxonomy archives, taxonomy terms, pages, and posts into unified catch-all route
  - **Architecture decision**: All non-blog public routing now handled in `[...slug]` catch-all route
  - Custom taxonomy archive pages (e.g., `/portfolio`) now work correctly
  - Taxonomy term pages (e.g., `/portfolio/web-design`) now work correctly
  - Regular pages (e.g., `/about-us`) now work correctly
  - Custom post types with slugs (e.g., `/events/annual-conference`) work correctly
  - Posts and hierarchical pages continue to work as before
  - Route checking order: taxonomy → taxonomy term → post/page → 404
  - Only `/blog` routes maintain separate handler to avoid conflicts

